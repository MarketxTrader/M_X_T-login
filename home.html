<!doctype html>
<html lang="km">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Market Trader</title>
  <link rel="stylesheet" href="style_home.css">
</head>
<body>
  <video autoplay muted loop playsinline class="bg-video">
    <source src="/video/bg.mp4" type="video/mp4">
  </video>

  <div class="topbar">
    <div class="logo">
      <img src="/Logo/MT.png" alt="Market Trader Logo">
    </div>
  </div>

  <main class="main">
    <section class="grid">

      <article class="card" onclick="window.location.href='lesson.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/3d-fluency/94/reading.png" alt="reading"/>
        </div>
        <div class="label">មេរៀន</div>
      </article>

      <article class="card" onclick="window.location.href='market.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/color/48/candle-sticks.png" alt="candle-sticks"/>
        </div>
        <div class="label">តម្លៃទីផ្សារ</div>
      </article>

      <article class="card" onclick="window.location.href='news.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/3d-fluency/94/news.png" alt="news"/>
        </div>
        <div class="label">ព័ត៍មាន</div>
      </article>

      <article class="card" onclick="window.location.href='t_gold.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/3d-fluency/94/gold-bars.png" alt="gold-bars"/>
        </div>
        <div class="label">តម្លៃហាងឆេងមាស</div>
      </article>

      <article class="card" onclick="window.location.href='acc.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/3d-fluency/94/add.png" alt="add"/>
        </div>
        <div class="label">បង្កើតគណនី</div>
      </article>

      <article class="card" onclick="window.location.href='contect.html'">
        <div class="icon">
          <img width="94" height="94" src="https://img.icons8.com/3d-fluency/94/administrator-male--v3.png" alt="administrator-male--v3"/>
        </div>
        <div class="label">ទាក់ទង Admin</div>
      </article>

    </section>
  </main>
  <div>
    <button class="Btn" id="logoutBtn">
    <div class="sign">
      <svg viewBox="0 0 512 512">
        <path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path>
      </svg>
    </div>
    <div class="text">Logout</div>
  </button>
  </div>
  <div id="logoutModal" class="modal">
  <div class="modal-content">
    <p>You have been logged out!</p>
    <button id="okBtn">OK</button>
  </div>
</div>

</body>
<!-- <script>
  const logoutBtn = document.getElementById('logoutBtn');
  const modal = document.getElementById('logoutModal');
  const okBtn = document.getElementById('okBtn');

  logoutBtn.addEventListener('click', () => {
    modal.style.display = 'block'; // show modal
  });

  okBtn.addEventListener('click', () => {
    modal.style.display = 'none'; // close modal
    window.location.href = 'index.html'; // redirect to login page
  });

  // Optional: close modal if user clicks outside content
  window.addEventListener('click', (e) => {
    if(e.target == modal){
      modal.style.display = 'none';
      window.location.href = 'index.html';
    }
});

</script> -->
<script>
  const logoutBtn = document.getElementById('logoutBtn');
  const modal = document.getElementById('logoutModal');
  const okBtn = document.getElementById('okBtn');

  logoutBtn.addEventListener('click', () => {
    modal.style.display = 'block';
  });

  okBtn.addEventListener('click', () => {
    modal.style.display = 'none';
    sessionStorage.removeItem("loggedIn"); // clear session
    window.location.href = 'index.html';
  });

  window.addEventListener('click', (e) => {
    if (e.target == modal) {
      modal.style.display = 'none';
      sessionStorage.removeItem("loggedIn");
      window.location.href = 'index.html';
    }
  });

  // --- SESSION CHECK ---
  window.onload = function(){
    if(sessionStorage.getItem("loggedIn") !== "true"){
      window.location.href = "index.html";
    }
  };

  // --- BLOCK BACK BUTTON ---
  history.pushState(null, null, location.href);
  window.onpopstate = function () {
    history.go(1);
  };
  </script>
</html>
